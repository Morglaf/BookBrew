.bookbrew-view {
    padding: 20px;
}

/* Définition de l'icône personnalisée */
.bookbrew,
.workspace-tab-header[data-type="bookbrew-view"] .workspace-tab-header-inner-icon,
.workspace-tab-header[data-type="bookbrew-view"] .workspace-tab-header-inner-icon::before {
    mask-image: url("data:image/svg+xml,%3Csvg id='Calque_1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 696.74 756.74'%3E%3Cpath d='m373.29,406.42c-23.38,3.95-58.73-63.03-64.32-80.65-31.6-99.6,19.61-182.02,99.54-235.78,23.86-16.04,60.68-32.47,79.52-53.08,10.49-11.48,8.89-31.55,25.47-36.83,20.55-1.42,21.6,17.03,15.61,31.86-27.6,68.28-136.53,74.69-181.55,171.26-24.92,53.46-16.32,118.91,23.27,162.73,10.82,11.98,30.35,32.53,2.46,40.49Z'/%3E%3Cpath d='m309.68,89.53c-29.83,2.53-32.05-45.45-4.37-48.85,26.09-.7,32.51,42.14,4.37,48.85Z'/%3E%3Cpath d='m186.56,306.96c26.43,13.84,80,32.38,83.86,69.54,1.46,13.98-13.41,24.3-25.89,16.81-7-4.2-7.99-12.8-11.98-19.31-10.92-17.81-29.97-22.03-47.84-29.94-51.79-22.92-95.13-62.54-97.39-122.75-2-53.24,33.75-105.71,90.03-107.25,31.01-5.82,63.35,16.65,72.07,46.1,8.58,28.97-6.53,64.72-36.92,73.2-7.55,2.11-20.47,4.1-27.5-.14-7.56-4.56-10.19-16.79-5.25-24.11,4.71-6.98,13.44-6.26,20.73-7.59,31.99-5.84,23.21-67.46-34.24-52.34-39.13,10.3-52.47,55.33-42.67,91.21,9.06,33.16,34.84,50.67,63,66.56Z'/%3E%3Cpath d='m405.36,251.84c12.76-33.33,63.62-40.6,57.07-8.2-2.98,14.73-20.76,8.93-26.41,20.04-12.45,24.54,43.14,53.92,64.89,8.6,14.06-29.29-5.62-64.97-37.87-68.98-6.06-.75-12.95.01-18.53-2.79-15.07-7.56-7.82-27.72,6.08-31.48,57.42-3.37,101.47,52.17,84.42,106.92-27.64,88.74-156.4,55.8-129.65-24.12Z'/%3E%3Cpath d='m348.87,516.28c50.4-68.51,141.34-128.5,227.11-130.35,15.77-1.44,60.18,1.92,70.01,11.76,5.56,5.56,3.64,33.17,3.61,41.88,13.83,2.19,46.91,10.01,47.08,28.17.18,18.17-.14,36.38-.14,54.56v188.17c.11,50.09,2.25,45.48-43.03,45.43l-602.07-.04c-16.78-.03-38.87,4.78-50.77-7.85-.31-3.6-.01-7.39,0-11.01v-207.8c0-9.86-2.48-63.36,2.05-69.46,6.94-9.34,34.52-18.27,45.64-20.18.09-28.97-8.34-44.32,25.24-49.67,100.66-16.03,219.4,41.42,275.26,126.38Zm-279.87,190.12c87.9-14.94,167.83-11.29,254.2,5.97h0c-11.24-9.95-42.37-20.06-57.41-23.77-52.7-12.98-110.25-9.45-162.11,6-6.9,2.05-14.02,4.91-21.17,5.83l-.74.09c-4.14,2.2-8.45,4.06-12.77,5.88Zm508.54-286.87c-60.2-.07-128.79,38.88-170.46,80.55-10.67,10.67-40.61,41.35-41.69,56.2-.8,11.03-.22,22.49-.22,33.56l.02,64.05c7.84-8.63,15.96-16.23,25.05-23.51,63.09-48.7,147.51-74.03,225.99-52.94v-156.29c-12.89-.46-25.78-2.56-38.69-1.62Zm-475.96,0c-6.64.9-13.09,1.58-19.8,1.62v154.69c94.56-17.8,162.45,8.49,236.62,62.67,4.37,3.23,8.69,6.24,13.37,9.02v-96.3c-41.74-72.07-123.13-123.61-205.9-130.24-7.99-.64-16.39-.21-24.29-1.46Zm548.03,52.58l.04,115.82c0,10.72,1.33,29.04-14.93,27.83-14.97-1.11-34.99-9.13-52.43-11.16-64.12-7.44-129.97,17.3-179.27,57.99l-1.18,1c9.18-3.06,18.36-5.87,27.76-8.17,77.87-14.64,161.04-3.02,234.31,26.64v-181.12c-.01-7.32-.32-14.75,0-22.06-4.69-2.83-9.12-5-14.29-6.77Zm-602.43,3.09c-4.72.99-9.25,2.25-13.84,3.68v209.52c49.12-27.4,103.99-41.66,160.44-40.97,19.34.24,38.55,2.92,57.88,3.25,12.24,3.61,25.36,5.29,37.96,7.35-57.08-40.17-121.22-63.7-192.36-51.31-14.2,2.48-44.8,16.12-48.09-7.68-2.16-15.6.62-121.66-1.45-123.95l-.52.1Zm435.91,206.86c-35.43,2.22-72.04,7.18-102.35,27.31,38.85-10.67,102.04-10.8,141.9-10.77,35.5-.04,70.04,1.65,105.36,6.12-36.13-17.51-105.92-23.83-144.9-22.65Z'/%3E%3Cpath d='m431.36,566.07c-16.44.28-28.88-13.26-17.63-26.81,5.44-6.55,17.83-13.88,25.27-18.6,40.94-25.92,79.15-41.17,127.06-45.46,15.88-2.03,27.82,16.54,15.17,28.22-6.81,6.29-19.1,5.39-27.65,6.55-31.54,4.29-63.54,17.31-89.97,34.62-7.28,4.77-25.64,19.26-32.25,21.48Z'/%3E%3Cpath d='m275.41,566.07c-8.88.38-11.34-2.97-18.27-7.73-36.18-24.9-75.66-42.42-119.77-47.61-7.56-.89-16.11-.45-22.71-4.86-12.51-8.36-6.33-27.62,7.78-29.35,37.3-2.56,134.52,30.87,162.4,61.08,9.83,10.65,3.32,24.98-9.43,28.47Z'/%3E%3C/svg%3E");
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg id='Calque_1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 696.74 756.74'%3E%3Cpath d='m373.29,406.42c-23.38,3.95-58.73-63.03-64.32-80.65-31.6-99.6,19.61-182.02,99.54-235.78,23.86-16.04,60.68-32.47,79.52-53.08,10.49-11.48,8.89-31.55,25.47-36.83,20.55-1.42,21.6,17.03,15.61,31.86-27.6,68.28-136.53,74.69-181.55,171.26-24.92,53.46-16.32,118.91,23.27,162.73,10.82,11.98,30.35,32.53,2.46,40.49Z'/%3E%3Cpath d='m309.68,89.53c-29.83,2.53-32.05-45.45-4.37-48.85,26.09-.7,32.51,42.14,4.37,48.85Z'/%3E%3Cpath d='m186.56,306.96c26.43,13.84,80,32.38,83.86,69.54,1.46,13.98-13.41,24.3-25.89,16.81-7-4.2-7.99-12.8-11.98-19.31-10.92-17.81-29.97-22.03-47.84-29.94-51.79-22.92-95.13-62.54-97.39-122.75-2-53.24,33.75-105.71,90.03-107.25,31.01-5.82,63.35,16.65,72.07,46.1,8.58,28.97-6.53,64.72-36.92,73.2-7.55,2.11-20.47,4.1-27.5-.14-7.56-4.56-10.19-16.79-5.25-24.11,4.71-6.98,13.44-6.26,20.73-7.59,31.99-5.84,23.21-67.46-34.24-52.34-39.13,10.3-52.47,55.33-42.67,91.21,9.06,33.16,34.84,50.67,63,66.56Z'/%3E%3Cpath d='m405.36,251.84c12.76-33.33,63.62-40.6,57.07-8.2-2.98,14.73-20.76,8.93-26.41,20.04-12.45,24.54,43.14,53.92,64.89,8.6,14.06-29.29-5.62-64.97-37.87-68.98-6.06-.75-12.95.01-18.53-2.79-15.07-7.56-7.82-27.72,6.08-31.48,57.42-3.37,101.47,52.17,84.42,106.92-27.64,88.74-156.4,55.8-129.65-24.12Z'/%3E%3Cpath d='m348.87,516.28c50.4-68.51,141.34-128.5,227.11-130.35,15.77-1.44,60.18,1.92,70.01,11.76,5.56,5.56,3.64,33.17,3.61,41.88,13.83,2.19,46.91,10.01,47.08,28.17.18,18.17-.14,36.38-.14,54.56v188.17c.11,50.09,2.25,45.48-43.03,45.43l-602.07-.04c-16.78-.03-38.87,4.78-50.77-7.85-.31-3.6-.01-7.39,0-11.01v-207.8c0-9.86-2.48-63.36,2.05-69.46,6.94-9.34,34.52-18.27,45.64-20.18.09-28.97-8.34-44.32,25.24-49.67,100.66-16.03,219.4,41.42,275.26,126.38Zm-279.87,190.12c87.9-14.94,167.83-11.29,254.2,5.97h0c-11.24-9.95-42.37-20.06-57.41-23.77-52.7-12.98-110.25-9.45-162.11,6-6.9,2.05-14.02,4.91-21.17,5.83l-.74.09c-4.14,2.2-8.45,4.06-12.77,5.88Zm508.54-286.87c-60.2-.07-128.79,38.88-170.46,80.55-10.67,10.67-40.61,41.35-41.69,56.2-.8,11.03-.22,22.49-.22,33.56l.02,64.05c7.84-8.63,15.96-16.23,25.05-23.51,63.09-48.7,147.51-74.03,225.99-52.94v-156.29c-12.89-.46-25.78-2.56-38.69-1.62Zm-475.96,0c-6.64.9-13.09,1.58-19.8,1.62v154.69c94.56-17.8,162.45,8.49,236.62,62.67,4.37,3.23,8.69,6.24,13.37,9.02v-96.3c-41.74-72.07-123.13-123.61-205.9-130.24-7.99-.64-16.39-.21-24.29-1.46Zm548.03,52.58l.04,115.82c0,10.72,1.33,29.04-14.93,27.83-14.97-1.11-34.99-9.13-52.43-11.16-64.12-7.44-129.97,17.3-179.27,57.99l-1.18,1c9.18-3.06,18.36-5.87,27.76-8.17,77.87-14.64,161.04-3.02,234.31,26.64v-181.12c-.01-7.32-.32-14.75,0-22.06-4.69-2.83-9.12-5-14.29-6.77Zm-602.43,3.09c-4.72.99-9.25,2.25-13.84,3.68v209.52c49.12-27.4,103.99-41.66,160.44-40.97,19.34.24,38.55,2.92,57.88,3.25,12.24,3.61,25.36,5.29,37.96,7.35-57.08-40.17-121.22-63.7-192.36-51.31-14.2,2.48-44.8,16.12-48.09-7.68-2.16-15.6.62-121.66-1.45-123.95l-.52.1Zm435.91,206.86c-35.43,2.22-72.04,7.18-102.35,27.31,38.85-10.67,102.04-10.8,141.9-10.77,35.5-.04,70.04,1.65,105.36,6.12-36.13-17.51-105.92-23.83-144.9-22.65Z'/%3E%3Cpath d='m431.36,566.07c-16.44.28-28.88-13.26-17.63-26.81,5.44-6.55,17.83-13.88,25.27-18.6,40.94-25.92,79.15-41.17,127.06-45.46,15.88-2.03,27.82,16.54,15.17,28.22-6.81,6.29-19.1,5.39-27.65,6.55-31.54,4.29-63.54,17.31-89.97,34.62-7.28,4.77-25.64,19.26-32.25,21.48Z'/%3E%3Cpath d='m275.41,566.07c-8.88.38-11.34-2.97-18.27-7.73-36.18-24.9-75.66-42.42-119.77-47.61-7.56-.89-16.11-.45-22.71-4.86-12.51-8.36-6.33-27.62,7.78-29.35,37.3-2.56,134.52,30.87,162.4,61.08,9.83,10.65,3.32,24.98-9.43,28.47Z'/%3E%3C/svg%3E");
    mask-size: contain;
    -webkit-mask-size: contain;
    mask-repeat: no-repeat;
    -webkit-mask-repeat: no-repeat;
    background-color: currentColor;
    width: 18px;
    height: 18px;
    display: inline-block;
}

.workspace-tab-header[data-type="bookbrew-view"] .workspace-tab-header-inner-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    margin-right: 4px;
}

.bookbrew-view h2 {
    margin-bottom: 20px;
    border-bottom: 1px solid var(--background-modifier-border);
    padding-bottom: 10px;
}

.bookbrew-view h3 {
    margin: 15px 0 10px;
    font-size: 1.1em;
}

.bookbrew-view select,
.bookbrew-view input[type="number"],
.bookbrew-view input[type="text"] {
    width: 100%;
    margin-bottom: 10px;
    background: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
    padding: 8px;
}

.bookbrew-view .setting-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0;
    border-bottom: 1px solid var(--background-modifier-border);
}

.bookbrew-view .checkbox-container {
    display: flex;
    align-items: center;
}

.bookbrew-view button {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
    padding: 8px 16px;
    border-radius: 4px;
    border: none;
    cursor: pointer;
    margin: 10px 0;
    width: 100%;
}

.bookbrew-view button:hover {
    background: var(--interactive-accent-hover);
}

.bookbrew-view .dynamic-fields {
    background: var(--background-primary-alt);
    border-radius: 4px;
    padding: 10px;
    margin-bottom: 15px;
}

.bookbrew-view .dynamic-field-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 5px 0;
    border-bottom: 1px solid var(--background-modifier-border);
}

.bookbrew-view .dynamic-field-item:last-child {
    border-bottom: none;
}

.hidden {
    display: none;
}

.dynamic-fields p {
    margin: 0;
    font-family: var(--font-monospace);
}

.dynamic-fields .no-fields {
    color: var(--text-muted);
    font-style: italic;
}

.latex-toggles {
    background: var(--background-primary-alt);
    border-radius: 4px;
    padding: 10px;
    margin-bottom: 15px;
}

.latex-toggles .setting-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 5px 0;
    border-bottom: 1px solid var(--background-modifier-border);
}

.latex-toggles .setting-item:last-child {
    border-bottom: none;
}

.export-section {
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 16px 0;
}

.export-path-container {
    display: flex;
    flex: 1;
    gap: 4px;
}

.export-path-input {
    flex: 1;
    min-width: 0;
    padding: 4px 8px;
}

.choose-folder-button {
    padding: 4px 8px;
    cursor: pointer;
}

.export-button {
    padding: 4px 12px;
}

.progress-section {
    background: var(--background-primary-alt);
    border-radius: 4px;
    padding: 10px;
    margin: 16px 0;
}

.progress-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.progress-text {
    flex: 1;
    margin-right: 8px;
}

.cancel-button {
    padding: 4px 8px;
    background: var(--background-modifier-error);
    color: var(--text-on-accent);
    border-radius: 4px;
    cursor: pointer;
}

.progress-bar {
    width: 100%;
    height: 8px;
    margin-bottom: 8px;
    -webkit-appearance: none;
    appearance: none;
}

.progress-bar::-webkit-progress-bar {
    background-color: var(--background-modifier-border);
    border-radius: 4px;
}

.progress-bar::-webkit-progress-value {
    background-color: var(--interactive-accent);
    border-radius: 4px;
}

.log-container {
    background: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
    padding: 8px;
    max-height: 200px;
    overflow-y: auto;
    font-family: var(--font-monospace);
    font-size: 12px;
}

.log-line {
    white-space: pre-wrap;
    margin: 0;
    padding: 2px 0;
}